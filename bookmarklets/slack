// ==Bookmarklet==
// @name Slack
// @author Shehab Abdel-Salam
// ==/Bookmarklet==

const url = window.location.href;
var suffix = null;
var separator = null;
var emoji = "ğŸ”—"; // Default link emoji

if (url.startsWith("https://docs.google.com/document")) {
  suffix = "- Google Docs";
  emoji = "ğŸ“";
} else if (url.startsWith("https://app.shortcut.com")) {
  suffix = "| Shortcut";
  emoji = "ğŸŸï¸";
} else if (url.startsWith("https://github.com")) {
  separator = "Â·";
  emoji = "ğŸ™";
} else if (url.startsWith("https://gitlab.com")) {
  separator = "Â·";
  emoji = "ğŸ¦Š";
} else if (url.startsWith("https://bitbucket.org")) {
  separator = "Â·";
  emoji = "ğŸ“¦";
} else if (url.startsWith("https://lucid.app/lucidchart")) {
  suffix = ": Lucidchart";
  emoji = "ğŸ¨";
} else if (url.startsWith("https://notion.so")) {
  suffix = "â€“ Notion";
  emoji = "ğŸ“";
}

var title = document.title;
if (suffix) {
  title = title.replace(suffix, "").trim();
}
if (separator) {
  title = title.split(separator).slice(0, -1).join(separator).trim();
}

const text = `${emoji} [${title}](${url})`;
navigator.clipboard.writeText(text);
